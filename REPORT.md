# Дневник учебной практики

⸻

## День 1 — Сбор и анализ материалов

Цель дня

Изучение предметной области и требований к проекту АИС «Фитнес-клуб».

Изучил:
	•	назначение автоматизированных информационных систем
	•	требования к АИС в рамках учебной практики
	•	предметную область «Фитнес-клуб»
	•	основные сущности: клиенты, тренеры, абонементы, посещения

Выполнил:
	•	анализ технического задания
	•	определение минимального состава базы данных
	•	выбор темы проекта и его направления
	•	определение функциональных модулей системы

Результат:

Сформировано понимание структуры будущей АИС и её функциональных требований.

⸻

## День 2 — Начало разработки backend

Цель дня

Создание основы серверной части проекта и реализация первых модулей бизнес-логики.

Изучил:
	•	принципы REST API
	•	основы Express.js
	•	модульную архитектуру backend-приложений
	•	работу HTTP-запросов

Реализовал:
	•	инициализацию backend-проекта на Node.js
	•	настройку Express-сервера
	•	модульную структуру проекта (routes, controllers, services, repositories)
	•	тестовый API endpoint /health для проверки сервера
	•	создание модуля Trainer с CRUD функционалом

Проблемы и решения:
	•	возникли ошибки смешения CommonJS и ESM (require vs import)
	•	проблема решена переводом всех модулей на ESM и добавлением "type": "module" в package.json

Итог дня:

Backend-приложение успешно запускается, реализован модуль тренеров. Проект готов к подключению базы данных и созданию модулей клиентов и абонементов.

⸻

## День 3 — Модули Client и Subscription

Цель дня

Реализация модулей для клиентов и абонементов, бизнес-логики и связей с тренерами.

Изучил:
	•	работу с Prisma для PostgreSQL
	•	концепцию связей «один-ко-многим» и «многие-ко-многим» в базе данных
	•	валидацию данных на уровне моделей и сервисов

Реализовал:
	•	модели Client, Subscription и Visit в Prisma schema
	•	CRUD для клиентов
	•	CRUD для абонементов, включая разные типы (студенческая, вечерняя, обычная)
	•	бизнес-логику:
	•	присвоение клиента тренеру
	•	проверка активности абонемента
	•	валидация данных при создании клиента и абонемента

Проблемы и решения:
	•	ошибки при вставке данных из-за null в полях с NOT NULL (updatedAt)
	•	решено добавлением @updatedAt и корректной последовательностью вставки данных

Итог дня:

Модули клиентов и абонементов полностью рабочие, логика присвоения тренера и валидации данных реализована.

⸻

## День 4 — Завершение CRUD и тестирование

Цель дня

Доработка всех модулей backend, добавление маршрутов и тестирование через Postman.

Изучил:
	•	маршрутизацию Express
	•	принципы работы контроллеров и сервисов
	•	тестирование API через Postman

Реализовал:
	•	маршруты для всех сущностей: Trainer, Client, Subscription, Visit
	•	контроллеры и сервисы для всех CRUD операций
	•	проверку всех связей между таблицами (FK)
	•	тестовую обработку ошибок и валидацию запросов

Проблемы и решения:
	•	ошибки с зависимостями таблиц (foreign key) при вставке тестовых данных
	•	решено последовательным созданием сущностей и ручным заполнением базы

Итог дня:

Весь backend функционал готов к работе. Все основные API протестированы и возвращают корректные данные.

⸻

## День 5 — Оптимизация и дополнительные проверки

Цель дня

Улучшение архитектуры backend, добавление дополнительных проверок и подготовка к фронтенду.

Изучил:
	•	best practices работы с Prisma
	•	расширенные методы валидации данных
	•	подготовку Postman коллекций

Реализовал:
	•	централизованный Prisma client
	•	обработку ошибок в сервисах
	•	дополнительные проверки на уникальность и активность клиента/абонемента
	•	логическую проверку даты окончания абонемента

Проблемы и решения:
	•	ошибки с ESM и импортами
	•	устранены единым переходом на ESM и корректными относительными путями .js

Итог дня:

Backend структурирован, полностью модульный, готов к дальнейшему использованию и интеграции с фронтендом.

⸻

## День 6 — Миграции и база данных

Цель дня

Применение схемы Prisma и наполнение базы данных тестовыми данными.

Изучил:
	•	команды Prisma для миграций (prisma migrate dev)
	•	подключение PostgreSQL через DBeaver
	•	особенности заполнения связанных таблиц

Реализовал:
	•	создание всех таблиц в БД по схемам Trainer, Client, Subscription, Visit
	•	проверку связей и корректности типов данных
	•	ручное добавление тестовых данных: несколько клиентов и тренеров, абонементы и посещения

Проблемы и решения:
	•	пустая база в DBeaver до применения миграций
	•	Foreign key ошибки при добавлении данных решены правильной последовательностью добавления сущностей

Итог дня:

База данных подготовлена и заполнена тестовыми данными. Все таблицы видны и связаны корректно.

⸻

## День 7 — Финальные исправления и подготовка к защите

Цель дня

Финальная проверка backend, подготовка отчетов и документации.

Изучил:
	•	создание README для backend
	•	генерацию примеров запросов для Postman
	•	подготовку отчета по дням

Реализовал:
	•	документирование всех API с примерами запросов и ответов
	•	проверку работоспособности всех маршрутов через Postman
	•	финальные исправления ошибок и улучшение логики валидации
	•	подготовку отчета по всем дням практики

Проблемы и решения:
	•	мелкие баги при работе с датами и foreign key
	•	устранены проверкой логики вставки и последовательным созданием связанных сущностей

Итог дня:

Backend полностью готов, API протестированы, документация подготовлена.

⸻